<% dir = Director.all.where({ :id => params["id"].to_i })[0] %>

<h1>Director #<%= dir.id %> Details </h1>

<a href="/directors">Go Back</a>

<hr>


<dl>
  <dt>
    Name
  </dt>
  <dd>
    <%= dir.name %>
  </dd>

  <dt>
    Dob
  </dt>
  <dd>
    <%= dir.dob %>
  </dd>

  <dt>
    Bio
  </dt>
  <dd>
    <%= dir.bio%>
  </dd>

  <dt>
    Image
  </dt>
  <dd>
    <img src="<%= dir.image %>" style="width:250px;">
  </dd>

  <dt>
    Created at
  </dt>
  <dd>
    <%= dir.created_at %>
  </dd>

  <dt>
    Updated at
  </dt>
  <dd>
    <%= dir.updated_at %>
  </dd>
</dl>

<hr>

<h2>Filmography</h2>

<% mov = Movie.all.where({ :director_id => params["id"].to_i })[0] %>

<table border = "1">

  <tr>
    <th>ID</th>
    <th>Image</th>
    <th>Title</th>
    <th>Year</th>
    <th>Director</th>
    <th>Show Details</th>
  </tr>

  <% Movie.all.where({ :director_id => params["id"].to_i }).each do |movie| %>
    <tr>
      <td><%= movie.id %></td>
      <td><img src="<%= movie.image %>" alt="Face" srcset="" style="width:250px;"></td>
      <td><%= movie.title %></td>
      <td><%= movie.year %></td>
      <td><%= dir.name %></td>
      <td><a href="/movies/<%= movie.id %>">Show details</a></td>
    </tr>
      
  <% end %>

</table>
